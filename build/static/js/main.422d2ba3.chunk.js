(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{115:function(e,a){},136:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(19),s=t.n(c),i=t(27),o=t(9),l=t(3),d=Object(l.a)();t(85),t(86),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var m=t(14),p=t(15),u=t(7),h=t(17),b=t(16),E=t(38),g=t(65),v=t.n(g),A=t(66),f=t.n(A),k=t(67),C=t.n(k),y=t(68),N=t.n(y),w=t(69),j=t.n(w);function G(e){var a="";return"Blue"===e.info.team?(a+=" blue",C.a):"Red"===e.info.team?(a+=" red",f.a):"Assassin"===e.info.team?(a+=" black",N.a):(a+=" neutral",j.a),a+=e.info.clicked?" revealed":" hidden",n.a.createElement("div",{className:"card"+a,onClick:e.onClick},n.a.createElement("div",null,e.info.value))}var T=function(e){Object(h.a)(t,e);var a=Object(b.a)(t);function t(){return Object(m.a)(this,t),a.apply(this,arguments)}return Object(p.a)(t,[{key:"renderCard",value:function(e){var a=this;if(this.props.cards[e])return n.a.createElement(G,{info:this.props.cards[e],onClick:function(){return a.props.cardClick(e)}})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"board-row"},this.renderCard(0),this.renderCard(1),this.renderCard(2),this.renderCard(3),this.renderCard(4)),n.a.createElement("div",{className:"board-row"},this.renderCard(5),this.renderCard(6),this.renderCard(7),this.renderCard(8),this.renderCard(9)),n.a.createElement("div",{className:"board-row"},this.renderCard(10),this.renderCard(11),this.renderCard(12),this.renderCard(13),this.renderCard(14)),n.a.createElement("div",{className:"board-row"},this.renderCard(15),this.renderCard(16),this.renderCard(17),this.renderCard(18),this.renderCard(19)),n.a.createElement("div",{className:"board-row"},this.renderCard(20),this.renderCard(21),this.renderCard(22),this.renderCard(23),this.renderCard(24)))}}]),t}(r.Component),R=t(26),B=t.n(R);var I=t(11),M=t.n(I),O=t(28),D=t(18),Z=t.n(D);function S(e){return{type:"UPDATE_GAME",payload:e}}Z.a.defaults.baseURL="https://kodonemu-server-pg.herokuapp.com/api/games";var x=function(e){Object(h.a)(t,e);var a=Object(b.a)(t);function t(e){var r;return Object(m.a)(this,t),(r=a.call(this,e)).state={gameName:window.location.pathname.split("/")[1].toLowerCase(),socket:v.a.connect("https://kodonemu-server-pg.herokuapp.com/")},r.newGame=r.newGame.bind(Object(u.a)(r)),r.endTurn=r.endTurn.bind(Object(u.a)(r)),r.changeRole=r.changeRole.bind(Object(u.a)(r)),r.loadGame=r.loadGame.bind(Object(u.a)(r)),r.state.socket.emit("joinRoom",r.state.gameName),r.state.socket.on("updateGame",(function(a){return e.dispatch(S(a))})),r.loadGame(r.state.gameName),r}return Object(p.a)(t,[{key:"render",value:function(){var e=this,a=this.props.game.winner,t="",r=this.props.game.blueTurn?"blue":"red",c=r;return t=a?a.toUpperCase()+" TEAM WINS!":(this.props.game.blueTurn?"BLUE":"RED")+" Team's turn!",n.a.createElement("div",{className:"Spymaster"===this.props.options.role?"spymaster":"player",id:"game"},n.a.createElement("div",{id:"board"},n.a.createElement("img",{className:"App-logo",src:B.a,alt:"CodeNames Logo"}),n.a.createElement("h2",{style:{fontFamily:"Courier New,monospace"}},"Room Name : ",this.state.gameName.toUpperCase()),n.a.createElement("p",null,"Share this link with your friends to play together:",n.a.createElement(E.a,null," www.codenames.com/",this.state.gameName)),n.a.createElement("div",{id:"top-bar"},n.a.createElement("div",null,n.a.createElement("button",{id:"end-turn",className:"button",onClick:this.endTurn},"End ",r.toUpperCase()," team's turn")),n.a.createElement("div",{id:"status",className:c},t),n.a.createElement("div",null,n.a.createElement("label",{className:"switch"},n.a.createElement("input",{type:"checkbox",value:"Spymaster"===this.props.options.role?"Player":"Spymaster",onChange:this.changeRole,checked:"Spymaster"===this.props.options.role}),n.a.createElement("span",{className:"slider"},"Spymaster"===this.props.options.role?" I am the Spymaster!":" Spymaster")),n.a.createElement("button",{id:"next-game",className:"button",onClick:this.newGame},"New Game!"))),n.a.createElement(T,{cards:this.props.game.cards,cardClick:function(a){return e.cardClick(a)}})))}},{key:"createScoreboard",value:function(){var e,a,t,r;return this.props.game.blueTeamFirst?(e="blue",a=this.props.game.blueCards,t="red",r=this.props.game.redCards):(e="red",a=this.props.game.redCards,t="blue",r=this.props.game.blueCards),{firstTeamColor:e,firstTeamScore:a,secondTeamColor:t,secondTeamScore:r}}},{key:"changeRole",value:function(e){var a=e.target;this.props.dispatch({type:"CHANGE_ROLE",role:a.value})}},{key:"loadGame",value:function(e){this.props.dispatch(function(e){return{type:"LOAD_GAME",payload:Z.a.get(e)}}(e))}},{key:"newGame",value:function(){var e;this.props.dispatch((e=this.props.game.gameName,function(){var a=Object(O.a)(M.a.mark((function a(t){var r,n;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Z.a.put(e+"/newGame",{gameName:e});case 3:r=a.sent,n=r.data,t(S(n)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()))}},{key:"cardClick",value:function(e){var a=this.props.game.blueTurn?"Blue":"Red";this.props.dispatch(function(e,a,t){return function(){var r=Object(O.a)(M.a.mark((function r(n){var c,s;return M.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Z.a.put(e+"/cardClicked",{cardIndex:a,teamClicked:t});case 3:c=r.sent,s=c.data,n(S(s)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.error(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}(this.props.game.gameName,e,a))}},{key:"endTurn",value:function(){var e;this.props.dispatch((e=this.props.game.gameName,function(){var a=Object(O.a)(M.a.mark((function a(t){var r,n;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Z.a.put(e+"/endTurn",{gameName:e});case 3:r=a.sent,n=r.data,t(S(n)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()))}}]),t}(r.Component),J=Object(i.b)((function(e){return e}))(x),U=t(71),L=t.n(U),W=function(e){Object(h.a)(t,e);var a=Object(b.a)(t);function t(e){var r;return Object(m.a)(this,t),(r=a.call(this,e)).startGame=function(){var e=document.getElementById("game-name").value.replace(/-+$/,"");e=e.replace(/-+$/,""),d.push("/"+e)},r.sanitizeGameName=function(e){var a=document.getElementById("game-name").value;a=(a=(a=(a=(a=a.replace(" ","-")).replace("/","-")).replace(";","-")).replace(":","-")).toLowerCase(),document.getElementById("game-name").value=a},r.handleKeyPress=function(e){"Enter"===e.key&&r.startGame()},r.startGame=r.startGame.bind(Object(u.a)(r)),r}return Object(p.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("img",{className:"App-logo",src:B.a,alt:"CodeNames Logo"}),n.a.createElement("hr",null),n.a.createElement("div",{id:"input-field"},n.a.createElement("p",null,"To join a game, enter the room name and click 'Enter.'"),n.a.createElement("input",{type:"text",onInput:this.sanitizeGameName,id:"game-name",onKeyPress:this.handleKeyPress}),n.a.createElement("button",{onClick:this.startGame},"Enter"))),n.a.createElement("footer",null,n.a.createElement("span",null,"Unofficial web version of Codenames created by Kevin Lam "),n.a.createElement("a",{className:"App-link",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/findkevin/codenames"},n.a.createElement("img",{className:"GitHub-logo",src:L.a,alt:"GitHub Mark"}))))}}]),t}(r.Component),Y=t(10);var P=t(75);var Q=Object(Y.c)({game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cards:[],gameName:null,blueTurn:!1,redCards:0,blueCards:0,winner:null,blueTeamFirst:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOAD_GAME_FULFILLED":var t=a.payload.data;return Object.assign({},e,t);case"UPDATE_GAME":var r=a.payload;return Object.assign({},e,r);default:return e}},options:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{role:"Player"},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CHANGE_ROLE":var t=a.role;return Object(P.a)({},e,{role:t});default:return e}}}),F=t(72),H=t.n(F),X=t(73),z=t(74),V=Object(Y.d)(Q,Object(Y.a)(z.a,X.a,H.a)),K=n.a.createElement(o.b,{history:d},n.a.createElement(o.c,null,n.a.createElement(o.a,{path:"/",exact:!0,render:function(e){return n.a.createElement(W,e)}}))),q=n.a.createElement(o.b,{history:d},n.a.createElement(o.c,null,n.a.createElement(o.a,{path:"/:gameName",exact:!0,render:function(e){return n.a.createElement(J,e)}})));s.a.render(K,document.getElementById("homePage")),s.a.render(n.a.createElement(i.a,{store:V},q),document.getElementById("game")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},26:function(e,a,t){e.exports=t.p+"static/media/CodeNames.506d15bc.png"},66:function(e,a,t){e.exports=t.p+"static/media/RedCard.e77b9cd4.png"},67:function(e,a,t){e.exports=t.p+"static/media/BlueCard.0a6d8866.png"},68:function(e,a,t){e.exports=t.p+"static/media/BlackCard.026246cf.png"},69:function(e,a,t){e.exports=t.p+"static/media/NeutralCard.e87f5aba.png"},71:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg=="},76:function(e,a,t){e.exports=t(136)},85:function(e,a,t){},86:function(e,a,t){}},[[76,1,2]]]);
//# sourceMappingURL=main.422d2ba3.chunk.js.map