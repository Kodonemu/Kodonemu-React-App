{"ast":null,"code":"import axios from 'axios';\nimport { serverUrl, socketUrl } from '../config/serverUrl';\nimport socket from 'socket.io-client';\naxios.defaults.baseURL = serverUrl;\nexport function loadGame(gameName) {\n  return {\n    type: 'LOAD_GAME',\n    payload: axios.get(gameName)\n  };\n}\nexport function updateGame(game) {\n  return {\n    type: 'UPDATE_GAME',\n    payload: game\n  };\n} //THUNK\n\nexport const startNewGame = gameName => {\n  return async function (dispatch) {\n    try {\n      const {\n        data\n      } = await axios.put(gameName + '/newGame', {\n        gameName\n      });\n      socket(socketUrl).emit('updateGame', dispatch(updateGame(data)));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n};\nexport const endTurn = gameName => {\n  return async function (dispatch) {\n    try {\n      const {\n        data\n      } = await axios.put(gameName + '/endTurn', {\n        gameName\n      });\n      socket(socketUrl).emit('updateGame', dispatch(updateGame(data)));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n};\nexport const cardClick = (gameName, cardIndex, teamClicked) => {\n  return async function (dispatch) {\n    try {\n      const {\n        data\n      } = await axios.put(gameName + '/cardClicked', {\n        cardIndex,\n        teamClicked\n      });\n      socket(socketUrl).emit('updateGame', dispatch(updateGame(data)));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n};","map":{"version":3,"sources":["/Users/kevinlam/Desktop/Fullstack Academy of Code/Personal_Projects/codenames/src/actions/gameActions.js"],"names":["axios","serverUrl","socketUrl","socket","defaults","baseURL","loadGame","gameName","type","payload","get","updateGame","game","startNewGame","dispatch","data","put","emit","error","console","endTurn","cardClick","cardIndex","teamClicked"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,SAApB,QAAqC,qBAArC;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AAEAH,KAAK,CAACI,QAAN,CAAeC,OAAf,GAAyBJ,SAAzB;AAEA,OAAO,SAASK,QAAT,CAAkBC,QAAlB,EACP;AACE,SAAO;AACLC,IAAAA,IAAI,EAAE,WADD;AAELC,IAAAA,OAAO,EAAET,KAAK,CAACU,GAAN,CAAUH,QAAV;AAFJ,GAAP;AAID;AAED,OAAO,SAASI,UAAT,CAAoBC,IAApB,EACP;AACE,SAAO;AACLJ,IAAAA,IAAI,EAAE,aADD;AAELC,IAAAA,OAAO,EAAEG;AAFJ,GAAP;AAID,C,CAED;;AACA,OAAO,MAAMC,YAAY,GAAIN,QAAD,IAAc;AACxC,SAAO,gBAAgBO,QAAhB,EAA0B;AAC/B,QAAI;AACF,YAAM;AAACC,QAAAA;AAAD,UAAS,MAAMf,KAAK,CAACgB,GAAN,CAAUT,QAAQ,GAAG,UAArB,EAAiC;AACpDA,QAAAA;AADoD,OAAjC,CAArB;AAGAJ,MAAAA,MAAM,CAACD,SAAD,CAAN,CAAkBe,IAAlB,CAAuB,YAAvB,EAAqCH,QAAQ,CAACH,UAAU,CAACI,IAAD,CAAX,CAA7C;AACD,KALD,CAKE,OAAOG,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;AACF,GATD;AAUD,CAXM;AAaP,OAAO,MAAME,OAAO,GAAIb,QAAD,IAAc;AACnC,SAAO,gBAAgBO,QAAhB,EAA0B;AAC/B,QAAI;AACF,YAAM;AAACC,QAAAA;AAAD,UAAS,MAAMf,KAAK,CAACgB,GAAN,CAAUT,QAAQ,GAAG,UAArB,EAAiC;AACpDA,QAAAA;AADoD,OAAjC,CAArB;AAGAJ,MAAAA,MAAM,CAACD,SAAD,CAAN,CAAkBe,IAAlB,CAAuB,YAAvB,EAAqCH,QAAQ,CAACH,UAAU,CAACI,IAAD,CAAX,CAA7C;AACD,KALD,CAKE,OAAOG,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;AACF,GATD;AAUD,CAXM;AAaP,OAAO,MAAMG,SAAS,GAAG,CAACd,QAAD,EAAWe,SAAX,EAAsBC,WAAtB,KAAsC;AAC7D,SAAO,gBAAgBT,QAAhB,EAA0B;AAC/B,QAAI;AACF,YAAM;AAACC,QAAAA;AAAD,UAAS,MAAMf,KAAK,CAACgB,GAAN,CAAUT,QAAQ,GAAG,cAArB,EAAqC;AACxDe,QAAAA,SADwD;AAExDC,QAAAA;AAFwD,OAArC,CAArB;AAIApB,MAAAA,MAAM,CAACD,SAAD,CAAN,CAAkBe,IAAlB,CAAuB,YAAvB,EAAqCH,QAAQ,CAACH,UAAU,CAACI,IAAD,CAAX,CAA7C;AACD,KAND,CAME,OAAOG,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;AACF,GAVD;AAWD,CAZM","sourcesContent":["import axios from 'axios';\nimport { serverUrl, socketUrl } from '../config/serverUrl';\nimport socket from 'socket.io-client'\n\naxios.defaults.baseURL = serverUrl;\n\nexport function loadGame(gameName)\n{\n  return {\n    type: 'LOAD_GAME',\n    payload: axios.get(gameName)\n  };\n}\n\nexport function updateGame(game)\n{\n  return {\n    type: 'UPDATE_GAME',\n    payload: game\n  };\n}\n\n//THUNK\nexport const startNewGame = (gameName) => {\n  return async function (dispatch) {\n    try {\n      const {data} = await axios.put(gameName + '/newGame', {\n        gameName\n      })\n      socket(socketUrl).emit('updateGame', dispatch(updateGame(data)))\n    } catch (error) {\n      console.error(error)\n    }\n  }\n}\n\nexport const endTurn = (gameName) => {\n  return async function (dispatch) {\n    try {\n      const {data} = await axios.put(gameName + '/endTurn', {\n        gameName\n      })\n      socket(socketUrl).emit('updateGame', dispatch(updateGame(data)))\n    } catch (error) {\n      console.error(error)\n    }\n  }\n}\n\nexport const cardClick = (gameName, cardIndex, teamClicked) => {\n  return async function (dispatch) {\n    try {\n      const {data} = await axios.put(gameName + '/cardClicked', {\n        cardIndex,\n        teamClicked\n      })\n      socket(socketUrl).emit('updateGame', dispatch(updateGame(data)))\n    } catch (error) {\n      console.error(error)\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}